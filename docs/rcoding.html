<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>R coding Exercise Gapminder, Tidyverse, and Plotting</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cerulean.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  { color: #cccccc; background-color: #303030; }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ffcfaf; } /* Alert */
code span.an { color: #7f9f7f; font-weight: bold; } /* Annotation */
code span.at { } /* Attribute */
code span.bn { color: #dca3a3; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #f0dfaf; } /* ControlFlow */
code span.ch { color: #dca3a3; } /* Char */
code span.cn { color: #dca3a3; font-weight: bold; } /* Constant */
code span.co { color: #7f9f7f; } /* Comment */
code span.cv { color: #7f9f7f; font-weight: bold; } /* CommentVar */
code span.do { color: #7f9f7f; } /* Documentation */
code span.dt { color: #dfdfbf; } /* DataType */
code span.dv { color: #dcdccc; } /* DecVal */
code span.er { color: #c3bf9f; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #c0bed1; } /* Float */
code span.fu { color: #efef8f; } /* Function */
code span.im { } /* Import */
code span.in { color: #7f9f7f; font-weight: bold; } /* Information */
code span.kw { color: #f0dfaf; } /* Keyword */
code span.op { color: #f0efd0; } /* Operator */
code span.ot { color: #efef8f; } /* Other */
code span.pp { color: #ffcfaf; font-weight: bold; } /* Preprocessor */
code span.sc { color: #dca3a3; } /* SpecialChar */
code span.ss { color: #cc9393; } /* SpecialString */
code span.st { color: #cc9393; } /* String */
code span.va { } /* Variable */
code span.vs { color: #cc9393; } /* VerbatimString */
code span.wa { color: #7f9f7f; font-weight: bold; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>







<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">My Data Analysis Portfolio</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="./aboutme.html">About Me</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Projects
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="./rcoding.html">R Coding</a>
    </li>
    <li>
      <a href="./visualization.html">Visualization</a>
    </li>
    <li>
      <a href="./tidytuesday.html">Tidy Tuesday</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/B-Cameron0/BrentCameron-MADA-portfolio">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">R coding Exercise Gapminder, Tidyverse, and Plotting</h1>

</div>


<p>First, we need to make sure all needed packages for the exercise are loaded using the command library(what we want to load), if not loaded (or you encounter an error of ‘x’ not found)- please install using the command install.packages(what you want to install)</p>
<p>For example, if dslabs is not installed you would use the command…install.packages(“dslabs”)</p>
<div id="preparation" class="section level2">
<h2>PREPARATION</h2>
<p><strong>Loads dslabs package</strong></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw">library</span>(<span class="st">&quot;dslabs&quot;</span>)</span></code></pre></div>
<pre><code>## Warning: package &#39;dslabs&#39; was built under R version 4.0.5</code></pre>
<p><strong>Loads tidyverse (a collection of packages designed to help with cleaning data)</strong></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="kw">library</span>(<span class="st">&quot;tidyverse&quot;</span>)</span></code></pre></div>
<pre><code>## -- Attaching packages --------------------------------------- tidyverse 1.3.0 --</code></pre>
<pre><code>## v ggplot2 3.3.3     v purrr   0.3.4
## v tibble  3.0.6     v dplyr   1.0.7
## v tidyr   1.1.2     v stringr 1.4.0
## v readr   1.4.0     v forcats 0.5.0</code></pre>
<pre><code>## Warning: package &#39;dplyr&#39; was built under R version 4.0.5</code></pre>
<pre><code>## -- Conflicts ------------------------------------------ tidyverse_conflicts() --
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()</code></pre>
<p><strong>Loads scales package (to access break formatting functions)</strong></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="kw">library</span>(<span class="st">&#39;scales&#39;</span>)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;scales&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:purrr&#39;:
## 
##     discard</code></pre>
<pre><code>## The following object is masked from &#39;package:readr&#39;:
## 
##     col_factor</code></pre>
<p><strong>Loads hrbrthemes package (it provides additional themes, scales and components to make ggplot look nicer)</strong></p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="kw">library</span>(<span class="st">&#39;hrbrthemes&#39;</span>)</span></code></pre></div>
<pre><code>## Warning: package &#39;hrbrthemes&#39; was built under R version 4.0.5</code></pre>
<pre><code>## NOTE: Either Arial Narrow or Roboto Condensed fonts are required to use these themes.</code></pre>
<pre><code>##       Please use hrbrthemes::import_roboto_condensed() to install Roboto Condensed and</code></pre>
<pre><code>##       if Arial Narrow is not on your system, please see https://bit.ly/arialnarrow</code></pre>
<p><strong>Loads viridis package (to access a wide range of color map that improves the graph presentation and readability)</strong></p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="kw">library</span>(<span class="st">&#39;viridis&#39;</span>)</span></code></pre></div>
<pre><code>## Warning: package &#39;viridis&#39; was built under R version 4.0.5</code></pre>
<pre><code>## Loading required package: viridisLite</code></pre>
<pre><code>## Warning: package &#39;viridisLite&#39; was built under R version 4.0.5</code></pre>
<pre><code>## 
## Attaching package: &#39;viridis&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:scales&#39;:
## 
##     viridis_pal</code></pre>
<p><strong>Loads broom package (to convert output object from lm to a table)</strong></p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a><span class="kw">library</span>(<span class="st">&#39;broom&#39;</span>)</span></code></pre></div>
<pre><code>## Warning: package &#39;broom&#39; was built under R version 4.0.5</code></pre>
<p><strong>Loads kableExtra package (we will need this package to create nice html table)</strong></p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a><span class="kw">library</span>(<span class="st">&quot;kableExtra&quot;</span>)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;kableExtra&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:dplyr&#39;:
## 
##     group_rows</code></pre>
<p><strong>Looks at help file for the gapminder data</strong></p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a><span class="kw">help</span>(gapminder)</span></code></pre></div>
<pre><code>## starting httpd help server ... done</code></pre>
<p><strong>Get an overview of the data structure</strong></p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a><span class="kw">str</span>(gapminder)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    10545 obs. of  9 variables:
##  $ country         : Factor w/ 185 levels &quot;Albania&quot;,&quot;Algeria&quot;,..: 1 2 3 4 5 6 7 8 9 10 ...
##  $ year            : int  1960 1960 1960 1960 1960 1960 1960 1960 1960 1960 ...
##  $ infant_mortality: num  115.4 148.2 208 NA 59.9 ...
##  $ life_expectancy : num  62.9 47.5 36 63 65.4 ...
##  $ fertility       : num  6.19 7.65 7.32 4.43 3.11 4.55 4.82 3.45 2.7 5.57 ...
##  $ population      : num  1636054 11124892 5270844 54681 20619075 ...
##  $ gdp             : num  NA 1.38e+10 NA NA 1.08e+11 ...
##  $ continent       : Factor w/ 5 levels &quot;Africa&quot;,&quot;Americas&quot;,..: 4 1 1 2 2 3 2 5 4 3 ...
##  $ region          : Factor w/ 22 levels &quot;Australia and New Zealand&quot;,..: 19 11 10 2 15 21 2 1 22 21 ...</code></pre>
<p><strong>Get a summary of the data</strong></p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a><span class="kw">summary</span>(gapminder)</span></code></pre></div>
<pre><code>##                 country           year      infant_mortality life_expectancy
##  Albania            :   57   Min.   :1960   Min.   :  1.50   Min.   :13.20  
##  Algeria            :   57   1st Qu.:1974   1st Qu.: 16.00   1st Qu.:57.50  
##  Angola             :   57   Median :1988   Median : 41.50   Median :67.54  
##  Antigua and Barbuda:   57   Mean   :1988   Mean   : 55.31   Mean   :64.81  
##  Argentina          :   57   3rd Qu.:2002   3rd Qu.: 85.10   3rd Qu.:73.00  
##  Armenia            :   57   Max.   :2016   Max.   :276.90   Max.   :83.90  
##  (Other)            :10203                  NA&#39;s   :1453                    
##    fertility       population             gdp               continent   
##  Min.   :0.840   Min.   :3.124e+04   Min.   :4.040e+07   Africa  :2907  
##  1st Qu.:2.200   1st Qu.:1.333e+06   1st Qu.:1.846e+09   Americas:2052  
##  Median :3.750   Median :5.009e+06   Median :7.794e+09   Asia    :2679  
##  Mean   :4.084   Mean   :2.701e+07   Mean   :1.480e+11   Europe  :2223  
##  3rd Qu.:6.000   3rd Qu.:1.523e+07   3rd Qu.:5.540e+10   Oceania : 684  
##  Max.   :9.220   Max.   :1.376e+09   Max.   :1.174e+13                  
##  NA&#39;s   :187     NA&#39;s   :185         NA&#39;s   :2972                       
##              region    
##  Western Asia   :1026  
##  Eastern Africa : 912  
##  Western Africa : 912  
##  Caribbean      : 741  
##  South America  : 684  
##  Southern Europe: 684  
##  (Other)        :5586</code></pre>
<p><strong>Determines the type of object gapminder is</strong></p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a><span class="kw">class</span>(gapminder)</span></code></pre></div>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
</div>
<div id="part-1" class="section level2">
<h2>PART 1</h2>
<p><strong>Filtering Data and creating New Variables</strong></p>
<p>We want to examine the data about African countries only, as a result, we will filter the data accordingly…</p>
<p><strong>Filter out data from all African countries (variable from continent= ‘Africa’) by using filter command, also use pipeline %&lt;% to create standardized chain of commands (This will allow for easier processing aka “do this then that” )</strong></p>
<p>Note that the first part of this code (africadata&lt;-gapminder) is needed due to the fact that we are assigning the African countries to a completely new object (africadata) for ease of analysis</p>
<p><strong>Creates new object and assigns all African countries to it</strong></p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a>africadata &lt;-<span class="st"> </span>gapminder <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb36-2"><a href="#cb36-2"></a><span class="kw">filter</span> (continent <span class="op">==</span><span class="st"> &#39;Africa&#39;</span>)</span></code></pre></div>
<p>Next we will recheck the structure and summary of the new data</p>
<p>Note that since we are using the new object (africadata) we are no longer focusing the commands on gapminder</p>
<p><strong>Checks the structure and shows summary of the newly created object (africadata)</strong></p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a><span class="kw">str</span>(africadata)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    2907 obs. of  9 variables:
##  $ country         : Factor w/ 185 levels &quot;Albania&quot;,&quot;Algeria&quot;,..: 2 3 18 22 26 27 29 31 32 33 ...
##  $ year            : int  1960 1960 1960 1960 1960 1960 1960 1960 1960 1960 ...
##  $ infant_mortality: num  148 208 187 116 161 ...
##  $ life_expectancy : num  47.5 36 38.3 50.3 35.2 ...
##  $ fertility       : num  7.65 7.32 6.28 6.62 6.29 6.95 5.65 6.89 5.84 6.25 ...
##  $ population      : num  11124892 5270844 2431620 524029 4829291 ...
##  $ gdp             : num  1.38e+10 NA 6.22e+08 1.24e+08 5.97e+08 ...
##  $ continent       : Factor w/ 5 levels &quot;Africa&quot;,&quot;Americas&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...
##  $ region          : Factor w/ 22 levels &quot;Australia and New Zealand&quot;,..: 11 10 20 17 20 5 10 20 10 10 ...</code></pre>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a><span class="kw">summary</span>(africadata)</span></code></pre></div>
<pre><code>##          country          year      infant_mortality life_expectancy
##  Algeria     :  57   Min.   :1960   Min.   : 11.40   Min.   :13.20  
##  Angola      :  57   1st Qu.:1974   1st Qu.: 62.20   1st Qu.:48.23  
##  Benin       :  57   Median :1988   Median : 93.40   Median :53.98  
##  Botswana    :  57   Mean   :1988   Mean   : 95.12   Mean   :54.38  
##  Burkina Faso:  57   3rd Qu.:2002   3rd Qu.:124.70   3rd Qu.:60.10  
##  Burundi     :  57   Max.   :2016   Max.   :237.40   Max.   :77.60  
##  (Other)     :2565                  NA&#39;s   :226                     
##    fertility       population             gdp               continent   
##  Min.   :1.500   Min.   :    41538   Min.   :4.659e+07   Africa  :2907  
##  1st Qu.:5.160   1st Qu.:  1605232   1st Qu.:8.373e+08   Americas:   0  
##  Median :6.160   Median :  5570982   Median :2.448e+09   Asia    :   0  
##  Mean   :5.851   Mean   : 12235961   Mean   :9.346e+09   Europe  :   0  
##  3rd Qu.:6.860   3rd Qu.: 13888152   3rd Qu.:6.552e+09   Oceania :   0  
##  Max.   :8.450   Max.   :182201962   Max.   :1.935e+11                  
##  NA&#39;s   :51      NA&#39;s   :51          NA&#39;s   :637                        
##                        region   
##  Eastern Africa           :912  
##  Western Africa           :912  
##  Middle Africa            :456  
##  Northern Africa          :342  
##  Southern Africa          :285  
##  Australia and New Zealand:  0  
##  (Other)                  :  0</code></pre>
<p>Now that we have created a new object (africadata) and assigned all of the desired countries to it, we need to create new variables to help us analyze the data, in this example we will use the variables infant_mortality and Life_expectancy (which will be called INFMORT.LIFEEXP (variable 1)) and population and life_expectancy (which will be called POP.LIFEEXP (variable 2)).</p>
<p><strong>Note that we will use a similar command structure as when we assigned the gapminder data African countries to the new object africadata, only this time africadata will be replaced with our new desired objects (Variables 1 and 2 respectively)</strong></p>
<p>Please note that we also use the ‘select’ function as a way to choose which subset of variables we want to measure</p>
<p>We do not have to use the pipe function (%&gt;%) since we are not doing several things at once (assigning and filtering in the previous case of africadata)</p>
<p><strong>Create another object (V1) in the africadata (object) with only infant mortality and life expectancy data</strong></p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a>INFMORT.LIFEEXP &lt;-<span class="st"> </span><span class="kw">select</span>(africadata, infant_mortality, life_expectancy)</span></code></pre></div>
<p><strong>Create another object (V2) in the africadata (object) with only population and life expectancy data</strong></p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1"></a>POP.LIFEEXP &lt;-<span class="st"> </span><span class="kw">select</span>(africadata, population, life_expectancy)</span></code></pre></div>
<p><strong>We will now check the structure and summary of the two new objects we have created:</strong></p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a><span class="kw">str</span>(INFMORT.LIFEEXP)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    2907 obs. of  2 variables:
##  $ infant_mortality: num  148 208 187 116 161 ...
##  $ life_expectancy : num  47.5 36 38.3 50.3 35.2 ...</code></pre>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1"></a><span class="kw">summary</span>(INFMORT.LIFEEXP)</span></code></pre></div>
<pre><code>##  infant_mortality life_expectancy
##  Min.   : 11.40   Min.   :13.20  
##  1st Qu.: 62.20   1st Qu.:48.23  
##  Median : 93.40   Median :53.98  
##  Mean   : 95.12   Mean   :54.38  
##  3rd Qu.:124.70   3rd Qu.:60.10  
##  Max.   :237.40   Max.   :77.60  
##  NA&#39;s   :226</code></pre>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1"></a><span class="kw">str</span>(POP.LIFEEXP)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    2907 obs. of  2 variables:
##  $ population     : num  11124892 5270844 2431620 524029 4829291 ...
##  $ life_expectancy: num  47.5 36 38.3 50.3 35.2 ...</code></pre>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1"></a><span class="kw">summary</span>(POP.LIFEEXP)</span></code></pre></div>
<pre><code>##    population        life_expectancy
##  Min.   :    41538   Min.   :13.20  
##  1st Qu.:  1605232   1st Qu.:48.23  
##  Median :  5570982   Median :53.98  
##  Mean   : 12235961   Mean   :54.38  
##  3rd Qu.: 13888152   3rd Qu.:60.10  
##  Max.   :182201962   Max.   :77.60  
##  NA&#39;s   :51</code></pre>
</div>
<div id="part-2" class="section level2">
<h2>PART 2</h2>
<p><strong>Plotting</strong></p>
<p>For this section we will plot the new variables created- life expectancy as a function of infant mortality and as a function of population size. We will make two separate plots to compare this.</p>
<p><strong>Note that since we are trying to create scatter plots (which means multiple commands) we will reuse the pipe function of %&gt;%, making sure to use our new objects</strong></p>
<p><strong>To create a scatter plot the command function ggplot(aes(x,y)) is used, with geom_point() being added to signal the creation of a line (x and y lab simply label the x and y axis respectively)</strong></p>
<p>First Scatterplot of life expectancy as a function of infant mortality</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1"></a>INFMORT.LIFEEXP <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb51-2"><a href="#cb51-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span>infant_mortality, <span class="dt">y=</span>life_expectancy)) <span class="op">+</span></span>
<span id="cb51-3"><a href="#cb51-3"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span></span>
<span id="cb51-4"><a href="#cb51-4"></a><span class="st">  </span><span class="co">#add plot title</span></span>
<span id="cb51-5"><a href="#cb51-5"></a><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;Relationship between infant mortality and life expectancy for African countries</span><span class="ch">\n</span><span class="st"> from 1960 to 2016&quot;</span>) <span class="op">+</span><span class="st">   </span></span>
<span id="cb51-6"><a href="#cb51-6"></a><span class="st">  </span><span class="co">#change x-axis label</span></span>
<span id="cb51-7"><a href="#cb51-7"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&#39;Infant Mortality (death per 1000)&#39;</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb51-8"><a href="#cb51-8"></a><span class="st">  </span><span class="co">#change y-axis label</span></span>
<span id="cb51-9"><a href="#cb51-9"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&#39;Life Expectancy (years)&#39;</span>)</span></code></pre></div>
<pre><code>## Warning: Removed 226 rows containing missing values (geom_point).</code></pre>
<p><img src="rcoding_files/figure-html/unnamed-chunk-17-1.png" width="672" /></p>
<p>Second Scatterplot of life expectancy as a function of population</p>
<p><strong>Note that here, the command scale_x_continous(trans = ‘log10’) is added along with the other commands. This is to set the x-axis to a log scale</strong></p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1"></a>POP.LIFEEXP <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb53-2"><a href="#cb53-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span>population, <span class="dt">y=</span>life_expectancy))<span class="op">+</span></span>
<span id="cb53-3"><a href="#cb53-3"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></span>
<span id="cb53-4"><a href="#cb53-4"></a><span class="st">  </span><span class="co">#transform and reformat x-axis to log scale</span></span>
<span id="cb53-5"><a href="#cb53-5"></a><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">trans =</span> <span class="st">&#39;log10&#39;</span>,</span>
<span id="cb53-6"><a href="#cb53-6"></a>                    <span class="dt">labels =</span> <span class="kw">trans_format</span>(<span class="st">&quot;log10&quot;</span>, <span class="kw">math_format</span>(<span class="dv">10</span><span class="op">^</span>.x))) <span class="op">+</span></span>
<span id="cb53-7"><a href="#cb53-7"></a><span class="st">  </span><span class="co">#add plot title</span></span>
<span id="cb53-8"><a href="#cb53-8"></a><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;Relationship between population size and life expectancy for African countries</span><span class="ch">\n</span><span class="st"> from 1960 to 2016&quot;</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb53-9"><a href="#cb53-9"></a><span class="st">  </span><span class="co">#change x-axis label</span></span>
<span id="cb53-10"><a href="#cb53-10"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Population (log scale)&quot;</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb53-11"><a href="#cb53-11"></a><span class="st">  </span><span class="co">#change y-axis label</span></span>
<span id="cb53-12"><a href="#cb53-12"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Life expectancy (years)&quot;</span>) </span></code></pre></div>
<pre><code>## Warning: Removed 51 rows containing missing values (geom_point).</code></pre>
<p><img src="rcoding_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
<p><strong>Notice that right now, due to multiple observation years for each country being reported, the data is disorganized and has formed ‘streaks’. To fix this, we must now narrow our data to a particular year.</strong></p>
<p><strong>We need to determine which years have missing data first to find the best year(s) for analysis. We can do this by utilizing the select function (to select the variable (year) and the variable that we are using the function for(infant_mortality)) combined with the filter command and the function (is.na), which is used to determine missing variables (na stands for non-applicable).</strong></p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1"></a><span class="co">#write code that figures out which years have missing data for infant mortality</span></span>
<span id="cb55-2"><a href="#cb55-2"></a>africadata <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb55-3"><a href="#cb55-3"></a><span class="st">      </span><span class="kw">group_by</span>(year) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb55-4"><a href="#cb55-4"></a><span class="st">      </span><span class="kw">summarise</span>(<span class="dt">infant_mortality_na =</span> <span class="kw">sum</span>(<span class="kw">is.na</span>(infant_mortality))) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb55-5"><a href="#cb55-5"></a><span class="st">      </span><span class="kw">filter</span>(infant_mortality_na <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb55-6"><a href="#cb55-6"></a><span class="st">      </span><span class="kw">arrange</span>(<span class="op">-</span>infant_mortality_na)</span></code></pre></div>
<pre><code>## # A tibble: 23 x 2
##     year infant_mortality_na
##    &lt;int&gt;               &lt;int&gt;
##  1  2016                  51
##  2  1961                  17
##  3  1962                  16
##  4  1963                  16
##  5  1964                  15
##  6  1965                  14
##  7  1966                  13
##  8  1967                  11
##  9  1968                  11
## 10  1960                  10
## # ... with 13 more rows</code></pre>
<p><strong>Now that we have determined that there are missing variables throughout the given years of the data set through 1981 and then again in 2016, we will go with thet year 2000 for the most accurate analysis.</strong></p>
<p>Now we will extract only the year 2000 from the data</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1"></a>africadata2000 &lt;-<span class="st"> </span>africadata <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb57-2"><a href="#cb57-2"></a><span class="st">  </span><span class="kw">filter</span>(year <span class="op">==</span><span class="st"> </span><span class="dv">2000</span>)</span></code></pre></div>
<p>Now we will once again view the structure and summary to verify correct observations</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1"></a><span class="kw">str</span>(africadata2000)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    51 obs. of  9 variables:
##  $ country         : Factor w/ 185 levels &quot;Albania&quot;,&quot;Algeria&quot;,..: 2 3 18 22 26 27 29 31 32 33 ...
##  $ year            : int  2000 2000 2000 2000 2000 2000 2000 2000 2000 2000 ...
##  $ infant_mortality: num  33.9 128.3 89.3 52.4 96.2 ...
##  $ life_expectancy : num  73.3 52.3 57.2 47.6 52.6 46.7 54.3 68.4 45.3 51.5 ...
##  $ fertility       : num  2.51 6.84 5.98 3.41 6.59 7.06 5.62 3.7 5.45 7.35 ...
##  $ population      : num  31183658 15058638 6949366 1736579 11607944 ...
##  $ gdp             : num  5.48e+10 9.13e+09 2.25e+09 5.63e+09 2.61e+09 ...
##  $ continent       : Factor w/ 5 levels &quot;Africa&quot;,&quot;Americas&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...
##  $ region          : Factor w/ 22 levels &quot;Australia and New Zealand&quot;,..: 11 10 20 17 20 5 10 20 10 10 ...</code></pre>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1"></a><span class="kw">summary</span>(africadata2000)</span></code></pre></div>
<pre><code>##          country        year      infant_mortality life_expectancy
##  Algeria     : 1   Min.   :2000   Min.   : 12.30   Min.   :37.60  
##  Angola      : 1   1st Qu.:2000   1st Qu.: 60.80   1st Qu.:51.75  
##  Benin       : 1   Median :2000   Median : 80.30   Median :54.30  
##  Botswana    : 1   Mean   :2000   Mean   : 78.93   Mean   :56.36  
##  Burkina Faso: 1   3rd Qu.:2000   3rd Qu.:103.30   3rd Qu.:60.00  
##  Burundi     : 1   Max.   :2000   Max.   :143.30   Max.   :75.00  
##  (Other)     :45                                                  
##    fertility       population             gdp               continent 
##  Min.   :1.990   Min.   :    81154   Min.   :2.019e+08   Africa  :51  
##  1st Qu.:4.150   1st Qu.:  2304687   1st Qu.:1.274e+09   Americas: 0  
##  Median :5.550   Median :  8799165   Median :3.238e+09   Asia    : 0  
##  Mean   :5.156   Mean   : 15659800   Mean   :1.155e+10   Europe  : 0  
##  3rd Qu.:5.960   3rd Qu.: 17391242   3rd Qu.:8.654e+09   Oceania : 0  
##  Max.   :7.730   Max.   :122876723   Max.   :1.329e+11                
##                                                                       
##                        region  
##  Eastern Africa           :16  
##  Western Africa           :16  
##  Middle Africa            : 8  
##  Northern Africa          : 6  
##  Southern Africa          : 5  
##  Australia and New Zealand: 0  
##  (Other)                  : 0</code></pre>
<p>Now that the data has been analyzed with only yeay 2000 being considered, we must now repeat the process done earlier to plot the newly separated data</p>
<p><strong>Please note that since the new data is assigned the object name of africadata2000, the object names of INFMORT.LIFEEXP and POP.LIFEEXP from the first scatter plots are both replaced by africadata2000</strong></p>
<p><strong>First scatter plot with new data only for year 2000</strong></p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1"></a>africadata2000 <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb62-2"><a href="#cb62-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span>infant_mortality, <span class="dt">y=</span>life_expectancy)) <span class="op">+</span></span>
<span id="cb62-3"><a href="#cb62-3"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span></span>
<span id="cb62-4"><a href="#cb62-4"></a><span class="st">  </span><span class="co">#add plot title</span></span>
<span id="cb62-5"><a href="#cb62-5"></a><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;Relationship between infant mortality and life expectancy for African countries</span><span class="ch">\n</span><span class="st"> from 1960 to 2016&quot;</span>) <span class="op">+</span><span class="st">   </span></span>
<span id="cb62-6"><a href="#cb62-6"></a><span class="st">  </span><span class="co">#change x-axis label</span></span>
<span id="cb62-7"><a href="#cb62-7"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&#39;Infant Mortality (death per 1000)&#39;</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb62-8"><a href="#cb62-8"></a><span class="st">  </span><span class="co">#change y-axis label</span></span>
<span id="cb62-9"><a href="#cb62-9"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&#39;Life Expectancy (years)&#39;</span>)</span></code></pre></div>
<p><img src="rcoding_files/figure-html/unnamed-chunk-22-1.png" width="672" /></p>
<p><strong>Second scattter plot with new data only for year 2000</strong></p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1"></a>africadata2000 <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb63-2"><a href="#cb63-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span>population, <span class="dt">y=</span>life_expectancy))<span class="op">+</span></span>
<span id="cb63-3"><a href="#cb63-3"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></span>
<span id="cb63-4"><a href="#cb63-4"></a><span class="st">  </span><span class="co">#transform and reformat x-axis to log scale</span></span>
<span id="cb63-5"><a href="#cb63-5"></a><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">trans =</span> <span class="st">&#39;log10&#39;</span>,</span>
<span id="cb63-6"><a href="#cb63-6"></a>                    <span class="dt">labels =</span> <span class="kw">trans_format</span>(<span class="st">&quot;log10&quot;</span>, <span class="kw">math_format</span>(<span class="dv">10</span><span class="op">^</span>.x))) <span class="op">+</span></span>
<span id="cb63-7"><a href="#cb63-7"></a><span class="st">  </span><span class="co">#add plot title</span></span>
<span id="cb63-8"><a href="#cb63-8"></a><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;Relationship between population size and life expectancy for African countries</span><span class="ch">\n</span><span class="st"> from 1960 to 2016&quot;</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb63-9"><a href="#cb63-9"></a><span class="st">  </span><span class="co">#change x-axis label</span></span>
<span id="cb63-10"><a href="#cb63-10"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Population (log scale)&quot;</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb63-11"><a href="#cb63-11"></a><span class="st">  </span><span class="co">#change y-axis label</span></span>
<span id="cb63-12"><a href="#cb63-12"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Life expectancy (years)&quot;</span>) </span></code></pre></div>
<p><img src="rcoding_files/figure-html/unnamed-chunk-23-1.png" width="672" /></p>
<p><strong>The new scatter plots seem to suggest a negative correlation between infant mortality and life expectancy (still), while there is no evident correlation between population size and life expectancy.</strong></p>
</div>
<div id="part-3" class="section level2">
<h2>PART 3</h2>
<p><strong>Let’s try to create a few more plots using data across all years</strong></p>
<p>We will create a boxplot with jitter to visualize the distribution of the life expectancy across different African regions.</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1"></a>africadata <span class="op">%&gt;%</span></span>
<span id="cb64-2"><a href="#cb64-2"></a><span class="st">  </span><span class="co">#use fill to set a unique color for each region</span></span>
<span id="cb64-3"><a href="#cb64-3"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span>region, <span class="dt">y=</span>life_expectancy, <span class="dt">fill=</span>region)) <span class="op">+</span></span>
<span id="cb64-4"><a href="#cb64-4"></a><span class="st">  </span><span class="co">#add boxplot</span></span>
<span id="cb64-5"><a href="#cb64-5"></a><span class="st">  </span><span class="kw">geom_boxplot</span>() <span class="op">+</span></span>
<span id="cb64-6"><a href="#cb64-6"></a><span class="st">  </span><span class="co">#set color theme </span></span>
<span id="cb64-7"><a href="#cb64-7"></a><span class="st">  </span><span class="kw">scale_fill_viridis</span>(<span class="dt">discrete =</span> <span class="ot">TRUE</span>, <span class="dt">alpha=</span><span class="fl">0.6</span>, <span class="dt">option=</span><span class="st">&quot;D&quot;</span>) <span class="op">+</span></span>
<span id="cb64-8"><a href="#cb64-8"></a><span class="st">  </span><span class="co">#add jitter to plot</span></span>
<span id="cb64-9"><a href="#cb64-9"></a><span class="st">  </span><span class="kw">geom_jitter</span>(<span class="dt">color=</span><span class="st">&quot;black&quot;</span>, <span class="dt">size=</span><span class="fl">0.4</span>, <span class="dt">alpha=</span><span class="fl">0.9</span>) <span class="op">+</span></span>
<span id="cb64-10"><a href="#cb64-10"></a><span class="st">  </span><span class="co">#a clean and neat background to emphasize typography</span></span>
<span id="cb64-11"><a href="#cb64-11"></a><span class="st">  </span><span class="kw">theme_ipsum</span>() <span class="op">+</span></span>
<span id="cb64-12"><a href="#cb64-12"></a><span class="st">  </span><span class="co">#change title size and legend position</span></span>
<span id="cb64-13"><a href="#cb64-13"></a><span class="st">  </span><span class="kw">theme</span>(</span>
<span id="cb64-14"><a href="#cb64-14"></a>    <span class="dt">legend.position=</span><span class="st">&quot;none&quot;</span>,</span>
<span id="cb64-15"><a href="#cb64-15"></a>    <span class="dt">plot.title =</span> <span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">15</span>)</span>
<span id="cb64-16"><a href="#cb64-16"></a>    ) <span class="op">+</span></span>
<span id="cb64-17"><a href="#cb64-17"></a><span class="st">  </span><span class="co">#add plot title</span></span>
<span id="cb64-18"><a href="#cb64-18"></a><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;Comparison of life expectancy across five African regions&quot;</span>) <span class="op">+</span></span>
<span id="cb64-19"><a href="#cb64-19"></a><span class="st">  </span><span class="co">#change x-axis label</span></span>
<span id="cb64-20"><a href="#cb64-20"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;&quot;</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb64-21"><a href="#cb64-21"></a><span class="st">  </span><span class="co">#change y-axis label</span></span>
<span id="cb64-22"><a href="#cb64-22"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Life expectancy (years)&quot;</span>) </span></code></pre></div>
<p><img src="rcoding_files/figure-html/unnamed-chunk-24-1.png" width="672" /></p>
<p>We can see that Northern Africa had the highest life expectancy but the data were also more spread out between countries. On the contrary, other four African regions had lower and similar life expectancy.</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1"></a><span class="co">#calculate GDP per capita and create new variable </span></span>
<span id="cb65-2"><a href="#cb65-2"></a>africadata &lt;-<span class="st"> </span>africadata <span class="op">%&gt;%</span></span>
<span id="cb65-3"><a href="#cb65-3"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">gdp_per_capita =</span> gdp<span class="op">/</span>population)</span>
<span id="cb65-4"><a href="#cb65-4"></a></span>
<span id="cb65-5"><a href="#cb65-5"></a>africadata <span class="op">%&gt;%</span></span>
<span id="cb65-6"><a href="#cb65-6"></a><span class="st">  </span><span class="co">#use color to set a unique color for each region</span></span>
<span id="cb65-7"><a href="#cb65-7"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span>gdp_per_capita, <span class="dt">y=</span>life_expectancy, <span class="dt">color=</span><span class="kw">factor</span>(region))) <span class="op">+</span></span>
<span id="cb65-8"><a href="#cb65-8"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></span>
<span id="cb65-9"><a href="#cb65-9"></a><span class="st">  </span><span class="co">#change legend title</span></span>
<span id="cb65-10"><a href="#cb65-10"></a><span class="st">  </span><span class="kw">guides</span>(<span class="dt">color=</span><span class="kw">guide_legend</span>(<span class="dt">title=</span><span class="st">&quot;Region&quot;</span>)) <span class="op">+</span></span>
<span id="cb65-11"><a href="#cb65-11"></a><span class="st">  </span><span class="co">#add plot title</span></span>
<span id="cb65-12"><a href="#cb65-12"></a><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;GDP per capita versus life expectancy across African regions</span><span class="ch">\n</span><span class="st"> from 1960 to 2016&quot;</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb65-13"><a href="#cb65-13"></a><span class="st">  </span><span class="co">#change x-axis label</span></span>
<span id="cb65-14"><a href="#cb65-14"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;GDP per capita&quot;</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb65-15"><a href="#cb65-15"></a><span class="st">  </span><span class="co">#change y-axis label</span></span>
<span id="cb65-16"><a href="#cb65-16"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Life expectancy (years)&quot;</span>)</span></code></pre></div>
<pre><code>## Warning: Removed 637 rows containing missing values (geom_point).</code></pre>
<p><img src="rcoding_files/figure-html/unnamed-chunk-25-1.png" width="672" /></p>
<p>The graph demonstrated a positive correlation between GDP per capita and life expectancy across all African regions. One more thing we noticed is that the rise in life expectancy by the unit change in GDP was higher among Northern and Eastern regions, however, the the similar trend was less apparent among other regions such as Middle or Southern Africa.</p>
</div>
<div id="part-4" class="section level2">
<h2>PART 4</h2>
<p><strong>The last step we will need to do is to utilize linear regression models on both life expectancy and infant mortality, and life expectancy and population separately, to determine a possible link, if any.</strong></p>
<p><strong>To do this, we first establish the object names that we want to save the models to, which in this example will be ‘fit1’ and ‘fit2’. Next, we utilize the lm function with the x-axis variable going second (infant mortality and population respectively). Finally, we utilize the summary function to gain an understanding of the models computations.</strong></p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1"></a>fit1 &lt;-<span class="st"> </span><span class="kw">lm</span>(life_expectancy <span class="op">~</span><span class="st"> </span>infant_mortality, <span class="dt">data =</span> africadata2000)</span>
<span id="cb67-2"><a href="#cb67-2"></a></span>
<span id="cb67-3"><a href="#cb67-3"></a>fit2 &lt;-<span class="st"> </span><span class="kw">lm</span>(life_expectancy <span class="op">~</span><span class="st"> </span>population, <span class="dt">data =</span> africadata2000)</span></code></pre></div>
<p><strong>Summarize</strong></p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1"></a><span class="kw">summary</span>(fit1)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = life_expectancy ~ infant_mortality, data = africadata2000)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -22.6651  -3.7087   0.9914   4.0408   8.6817 
## 
## Coefficients:
##                  Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)      71.29331    2.42611  29.386  &lt; 2e-16 ***
## infant_mortality -0.18916    0.02869  -6.594 2.83e-08 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 6.221 on 49 degrees of freedom
## Multiple R-squared:  0.4701, Adjusted R-squared:  0.4593 
## F-statistic: 43.48 on 1 and 49 DF,  p-value: 2.826e-08</code></pre>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1"></a><span class="kw">summary</span>(fit2)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = life_expectancy ~ population, data = africadata2000)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -18.429  -4.602  -2.568   3.800  18.802 
## 
## Coefficients:
##              Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept) 5.593e+01  1.468e+00  38.097   &lt;2e-16 ***
## population  2.756e-08  5.459e-08   0.505    0.616    
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 8.524 on 49 degrees of freedom
## Multiple R-squared:  0.005176,   Adjusted R-squared:  -0.01513 
## F-statistic: 0.2549 on 1 and 49 DF,  p-value: 0.6159</code></pre>
<p>Because of the final p-value of 2.826e-08 for the first model, which is less than 0.001, I can conclude that there exists a negative correlation between infant mortality and life expectancy, that is to say that for every unit of increase of infant mortality, life expectancy is predicted to decrease.</p>
<p>In the second model determining if there exists a link between population and life expectancy the p-value is greater than 0.005 at 0.6159, which indicates that there is no statistically significant link between population size and life expectancy.</p>
<p><strong>Now, we will fit a multiple linear regression models that used life expectancy as outcome and both infant mortality and GDP per capita as independent variables, to evaluate the strength of the relationship and output the statistics result in a table.</strong></p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1"></a><span class="co">#fit a multiple linear model to regress life expectancy on infant mortality and GDP per capita using full data</span></span>
<span id="cb72-2"><a href="#cb72-2"></a>fit3 &lt;-<span class="st"> </span><span class="kw">lm</span>(life_expectancy <span class="op">~</span><span class="st"> </span>infant_mortality <span class="op">+</span><span class="st"> </span>gdp_per_capita , <span class="dt">data =</span> africadata)</span>
<span id="cb72-3"><a href="#cb72-3"></a><span class="co">#summarize the lm output</span></span>
<span id="cb72-4"><a href="#cb72-4"></a><span class="kw">summary</span>(fit3)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = life_expectancy ~ infant_mortality + gdp_per_capita, 
##     data = africadata)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -35.344  -2.438   0.369   2.745  11.655 
## 
## Coefficients:
##                    Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)      69.1118612  0.3282424  210.55  &lt; 2e-16 ***
## infant_mortality -0.1560137  0.0027499  -56.73  &lt; 2e-16 ***
## gdp_per_capita    0.0005499  0.0000909    6.05  1.7e-09 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 4.644 on 2200 degrees of freedom
##   (704 observations deleted due to missingness)
## Multiple R-squared:  0.6896, Adjusted R-squared:  0.6893 
## F-statistic:  2444 on 2 and 2200 DF,  p-value: &lt; 2.2e-16</code></pre>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1"></a><span class="co">#use tidy to convert lm object to tibble</span></span>
<span id="cb74-2"><a href="#cb74-2"></a>fit3 <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb74-3"><a href="#cb74-3"></a><span class="st">  </span><span class="kw">tidy</span>() <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb74-4"><a href="#cb74-4"></a><span class="st">  </span><span class="co">#round figures to show only 5 decimal places</span></span>
<span id="cb74-5"><a href="#cb74-5"></a><span class="st">  </span><span class="kw">mutate_if</span>(is.numeric, round, <span class="dv">5</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb74-6"><a href="#cb74-6"></a><span class="st">  </span><span class="co">#create awesom HTML table</span></span>
<span id="cb74-7"><a href="#cb74-7"></a><span class="st">  </span><span class="kw">kbl</span>() <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb74-8"><a href="#cb74-8"></a><span class="st">  </span><span class="kw">kable_paper</span>(<span class="st">&quot;hover&quot;</span>, <span class="dt">full_width =</span> F)</span></code></pre></div>
<table class=" lightable-paper lightable-hover" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;'>
<thead>
<tr>
<th style="text-align:left;">
term
</th>
<th style="text-align:right;">
estimate
</th>
<th style="text-align:right;">
std.error
</th>
<th style="text-align:right;">
statistic
</th>
<th style="text-align:right;">
p.value
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
(Intercept)
</td>
<td style="text-align:right;">
69.11186
</td>
<td style="text-align:right;">
0.32824
</td>
<td style="text-align:right;">
210.55132
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
infant_mortality
</td>
<td style="text-align:right;">
-0.15601
</td>
<td style="text-align:right;">
0.00275
</td>
<td style="text-align:right;">
-56.73388
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
gdp_per_capita
</td>
<td style="text-align:right;">
0.00055
</td>
<td style="text-align:right;">
0.00009
</td>
<td style="text-align:right;">
6.04957
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
<p>The significant p-value (p&lt;0.0001) for infant mortality indicated a linear relationship between infant mortality and life expectancy after adjusting for GDP per capita, and the coefficient showed that the life expectancy goes down by 0.16 for every 1 unit increase in infant mortality. Similarly, we also found a linear relationship between GDP per capita and life expectancy after adjusting for infant mortality with a p-value smaller than 0.05.</p>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
